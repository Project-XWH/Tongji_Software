                		<th>
                			{% with 'get_by_KKM'|add:enzyme as ID1 %}
                			{% with 'get_by_pH'|add:enzyme as ID2 %}
                			<form enctype="multipart/form-data" action="/enzyme_result/" method="POST" >
                   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="text" name="EC" value={{ enzyme }}>
                   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="text" name="substrate" value={{ compound }}>
       			   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="submit" id={{ ID1 }}>
                    			<label for={{ ID1 }}>
                        			<a>get seq by KKM</a>
                    			</label>
            				</form>
            				<br>
                			<form enctype="multipart/form-data" action="/sequence_result/" method="POST" >
                   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="text" name="ec" value={{ enzyme }}>
       			   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="submit" id={{ ID2 }}>
                    			<label for={{ ID2 }}>
                        			<a>get seq by homo</a>
                    			</label>
            				</form>
            				{% endwith %}
            				{% endwith %}
            			</th>




#############--------------------------enzyme.html-----------------------------###################
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Enzyme</title>
    <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="../media/css/alink.css" rel="stylesheet" type="text/css">

</head>

<body class="enzyme-page-back">
    <div class="enzyme-text-back">
    <!--black background-->
    </div>
    <div style="text-align:center"> 
        <div class="enzyme-text">
            <h1>Enzyme Selection</h1> 
            <br>
            <form enctype="multipart/form-data" action="/enzyme_result/" method="POST" >
                <h2 style="text-align: left">
                    <b style="padding:10px 15px 15px 4px;">EC Number:</b> <input class="input-text" type="text" value="6.3.3.6" name="EC">
                    <br><br>
                    <b style="padding:10px 15px 15px 30px;">Substrate:</b> <input class="input-text" type="text" value="(2S,5S)-5-carboxymethylproline" name="substrate"><br>
                </h2>
                <div style="text-align: right">
                    <input class="input-submit" type="submit"  value="Submit">
                </div>          
            </form>
        </div>
        <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="margin-top: 45%;margin-left: 80%; width: 5%" ></a>
    </div>
</body>
</html>

#############--------------------------pathway.html-----------------------------###################
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pahtway</title>
    <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="../media/css/alink.css" rel="stylesheet" type="text/css">
</head>

<body class="path-page-back">
    <div class="path-text-back">
    <!--black background-->
    </div>
    <div style="text-align:center">
        <div class="path-text">
            <h1>Pathway Search</h1> 
            <br>
            <form enctype="multipart/form-data" action="/pathway_result/" method="POST" >
                <h2 style="text-align: left">
                    <b style="padding:10px 15px 15px 15px;">Start Compound:</b>  <input class="input-text" type="text" value="C00099" name="start_compound">
                    <br><br>
                    <b style="padding:10px 15px 15px 0px;">Target Compound:</b> <input class="input-text" type="text" value="C00043" name="target_compound">
                    <br><br>
                    <b style="padding:10px 15px 15px 50px;">Search Depth:</b> <input class="input-text" type="text" value="9" name="arg3">
                    <br><br>
                    <b style="padding:10px 15px 15px 49px;">Needed Paths:</b> <input class="input-text" type="text" value="5" name="arg4">
                    <br><br>
                    <b style="padding:10px 15px 15px 46px;">Weight Array:</b> <input class="input-text" type="text" value="1,1,1" name="arg5">   
                    <br>        
                    <br>
                </h2>
                <div style="text-align: right">
                    <input class="input-submit" type="submit"  value="Submit">
                </div>    
                </form>
            </h2>
        </div>
        <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="margin-top: 45%;margin-left: -80%; width: 5%" ></a>
    </div>
</body>
</html>




#############--------------------------parts design.html-----------------------------###################

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Parts</title>
    <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="../media/css/alink.css" rel="stylesheet" type="text/css">

</head>

<body class="parts-page-back">
    <div class="parts-text-back">
    <!--black background-->
    </div>
    <div style="text-align:center">
        <div class="parts-text">
            <h1>Parts Design</h1>
            <br>
            <form enctype="multipart/form-data" action="/parts_result/" method="POST" >
                <h2 style="text-align: left">
                    <b style="padding:10px 15px 15px 25px;">Your Sequence:</b> <input class="input-text" type="text" value="ATGATGCTAGCTGGCTTTTGGCCAGAGCGATGACGATCAGTACGATCAGATACGATACGA" name="sequence">
                    <br><br>
                    <b style="padding:10px 15px 15px 0px;">Target Organism:</b> <input class="input-text" type="text" value="ecoli" name="organism">
                    <br>
                </h2>
                <div style="text-align: right">
                    <input class="input-submit" type="submit"  value="Submit">
                </div>          
            </form>
        </div>
        <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="margin-top: 45%;margin-left: 80%; width: 5%" ></a>
    </div>
</body>
</html>



#############-------------------------pathway.html-----------------------------###################


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pahtway</title>
    <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="../media/css/alink.css" rel="stylesheet" type="text/css">
    <link href="../media/css/loading.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" media="screen" href="../media/bootstrap/css/bootstrap.css">
    <script src="../media/js/jquery.js"></script>
    <style>
    .path-text-back2{
     background-image: url("../media/img/back2.jpg");
     background-position: center;
     background-attachment:fixed;
     background-size: cover;
     color: white;
     margin:0;
     padding:0;
    }
    .path-text-back2:after{
     content: "";
     width:100%;
     height:100%;
     position: fixed;
     background: inherit;
     filter: blur(10px);
     z-index: -2;
    }
    .function-box{
     width: 70vw;
     height: 70vh;
/*   margin:20px 40px 10px; */
     margin-left:-55%;
     padding:70px 30px;
     position: absolute;
     border:3px solid white;
     border-radius:20px;
     text-align:center;
     color:dimgray;
     background-color: white;
                    
     -webkit-transition:all .3s ease-in-out;
     transition:all .3s ease-in-out;
     vertical-align:text-top;
     display:inline-block;

     box-shadow: 1000 1000 100px black;
                    
    }
    .function-box:hover{
     -webkit-box-shadow:0 0 35px rgba(0,0,0,.06);
     box-shadow:0 100 350px rgba(0,0,0,.06);
     border-color:#4286f4;
     position: absolute;
    }
    
    
    .function-box2{
     width: 10vw;
     height: 25vh;
     margin: -10vh 53vw 10vw;
/*      margin-left:-70%; */
/*      padding:50px 30px; */
     position: absolute;
     border:3px solid grey;
     border-radius:20px;
     text-align:center;
     color:dimgray;
     background-color: white;
                    
     -webkit-transition:all .3s ease-in-out;
     transition:all .3s ease-in-out;
     vertical-align:text-top;
     display:inline-block;

     box-shadow: 1000 1000 100px black;
     position:absolute;
     
                    
    }
   .input-submit{ 
    display: inline-block;
    padding: 10px;
    text-transform: uppercase;
    border: 2px solid #2a2a2a;
    position: relative;
/* 
    margin-top: 0vh;
    margin-right: 4vw;
 */
    margin: -5vh -11.5vw 1vw;
    font-weight: 600;
    color: #222;
    -webkit-transition: 0.5s ease-in;
    -moz-transition: 0.5s ease-in;
    transition: 0.5s ease-in;
    z-index: 1;
    overflow: hidden;
    width: 120px;
    text-align: center;
    position:absolute;
    
}
    .intro{
        margin: 0vh -3vw 10vw;
        position: absolute fixed;
    }
    </style>
    
    <script>
        function showfunc(){
            var func = document.getElementById('func-info');
            var intro = document.getElementById('intro-info');
            var func_visi = func.style.visibility;
            var intro_visi = intro.style.visibility
            if(func_visi =="hidden"){
                func.style.visibility="unset"
                intro.style.visibility = "hidden"
                intro.style.height="0"
            }
            else{
                func.style.visibility="hidden"
                intro.style.visibility="unset"
                intro.style.height="25vh"
            }// 
//             document.getElementById('intro').id = "intro2"
//             document.getElementById('intro2').id = "intro"
            
        };

        $(function(){
                $("#intro").on("click",function(){
//                     $("#func-info").hide(500);
                    $("#func-info").slideUp(500) ; //滑动消失
//                     $("#intro-info").slideDown(500) ; 
                }) ;
                $("#func").on("click",function(){
//                     $("#func-info").show(500);
                    $("#func-info").slideDown(500) ; //滑动显现
//                     $("#intro-info").slideUp(500) ;
                }) ;
        }) ;
    
    </script>
</head>

<body class="path-page-back2">

<div class="path-text-back2">
    <!--black background-->
</div>

<div style="text-align:center;color:white;width:100vh;overflow: hidden;">
    <div class="path-text">
        <br>
        <h1 >Pathway Search</h1>
        <br>
        <br>
        
        <div class="function-box">
        <div id="func-info">
        <form enctype="multipart/form-data" action="/pathway_result/" method="POST" >
            <h2 style="text-align: left">
                <div class="row">
                    <div class="col-md-4"><b style="padding:10px 15px 15px 70px;">Start Compound:</b></div>
                    <div class="col-md-4"><input class="form-control" type="text" value="C00099" name="start_compound"></div>
                    <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="Please input your substrate."></span></div>
                </div>
                <br><br>
                <div class="function-box2">
               help
               </div>
                <div class="row">
                    <div class="col-md-4"><b style="padding:10px 15px 15px 50px;">Target Compound:</b></div>
                    <div class="col-md-4"><input class="form-control" type="text" value="C00043" name="target_compound"></div>
                    <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="Please input your target"></span></div>
                </div>
                <br><br>

                <div class="row">
                    <div class="col-md-4"> <b style="padding:10px 15px 15px 110px;">Search Depth:</b></div>
                    <div class="col-md-4"><input class="form-control" type="text" value="9" name="arg3"></div>
                    <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="The max steps of pathway you want."></span></div>
                </div>
                <br><br>
                <div class="row">
                    <div class="col-md-4"><b style="padding:10px 15px 15px 100px;">Needed Paths:</b></div>
                    <div class="col-md-4"><input class="form-control" type="text" value="5" name="arg4"></div>
                    <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="The number of results you want"></span></div>
                </div>
                <br><br>
                <div class="row">
                    <div class="col-md-4"><b style="padding:10px 15px 15px 110px;">Weight Array:</b></div>
                    <div class="col-md-4"><input class="form-control" type="text" value="1,1,1" name="arg5"></div>
                    <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="Please input a weight by your consideration"></span></div>
                </div>
                
            </h2>
            
            <div style="text-align: right">
                <input class="input-submit" type="submit"  value="Submit">
            </div>
            
            <br>
            <br>
            
        </form>
        
        <button id="intro" class="intro" onclick="showfunc()">introduction</button>
        </div>
        
        <div id="intro-info" style="visibility:unset;position:fixed;margin: 0vh 3vw 10vw; background-color: black; width: 60vw;height: 65vh; z-index:10">
           introduction
           <br>
           <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
           <button id="func" class="intro" onclick="showfunc()">start my search</button>
        </div>
        
        </div>
    </div>
    <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="margin-top: 70vh;margin-left: -40vw; width: 10%" ></a>
</div>
</body>
</html>



        <!-- <div style="margin-left: 2.5vw">
        <hr style="width:15vw;position: absolute; border: 0; border-bottom: 3px solid white;margin: -4vh 0vw 0vh -15vw "> 
        <h4 class="h4_path" >·Pathway Search·</h4>
        <hr style="width:15vw;position: absolute;border: 0; border-bottom: 3px solid white;margin: -4vh 0vw 0vh 11vw ">
        <h4 class="h4_enzy" >·Enzyme Selection·</h4>
        <hr style="width:15vw;position: absolute;border: 0; border-bottom: 3px solid white;margin: -4vh 0vw 0vh 38vw ">
        <h4 class="h4_part" >·Parts Search·</h4>
        <hr style="width:15vw;position: absolute;border: 0; border-bottom: 3px solid white;margin: -4vh 0vw 0vh 62vw ">
        </div> -->
        
        <!-- <div style="margin-left: 3vw">
        <hr style="width:15vw;position: absolute; border: 0; border-bottom: 3px solid white;margin: 0vh 0vw 0vh -17.5vw "> 
        <h4 class="h4_path" >·Pathway Search·</h4>
        <hr style="width:15vw;position: absolute;border: 0; border-bottom: 3px solid white;margin: 0vh 0vw 0vh 8.5vw ">
        <h4 class="h4_enzy" >·Enzyme Selection·</h4>
        <hr style="width:15vw;position: absolute;border: 0; border-bottom: 3px solid white;margin: 0vh 0vw 0vh 42vw ">
        <h4 class="h4_part" >·Parts Search·</h4>
        <hr style="width:15vw;position: absolute;border: 0; border-bottom: 3px solid white;margin: 0vh 0vw 0vh 66vw ">
        </div> -->


        #############-------------------------enzyme.html-----------------------------###################

        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Enzyme</title>
            <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
            <link href="../media/css/alink.css" rel="stylesheet" type="text/css">
            <link rel="stylesheet" media="screen" href="../media/bootstrap//css/bootstrap.css">
            <script src="../media/js/jquery.js"></script>
        <style>
            .enzyme-page-back{
             background-image: url("../media/img/back-black.jpg");
             background-position: center;
             background-attachment:fixed;
             background-size: cover;
             color: white;
             margin:0;
             padding:0;
             font-size: 62.5%;
        }
        .enzyme-text-back{
             background-color: rgba(0, 0, 0, 0.7);
             height: 100vh;
             width:100%;
             z-index:10;
             position:fixed;
        }
        
        .enzyme-text{
            position: fixed;
            top: 35%;
            left: 40%;
            width: 70%;
            height: 100vh;
            margin: -15% 0 0 -25%;
            vertical-align: middle;
            text-align:center;
        }
        
            .function-box{
             width: 50vw;
             height: 40vh;
        /*   margin:20px 40px 10px; */
             margin-left:-26vw;
             padding:30px 0px 0px 20px;
             position: absolute;
             border:1px solid white;
             border-radius:20px;
             text-align:center;
             color:dimgray;
             background-color: rgba(0,0,0,0.5);
                            
             -webkit-transition:all .3s ease-in-out;
             transition:all .3s ease-in-out;
             vertical-align:text-top;
             display:inline-block;
        
             box-shadow: 1000 1000 100px black;
                            
            }
            .function-box:hover{
             -webkit-box-shadow:0 0 35px rgba(0,0,0,.06);
             box-shadow:0 100 350px rgba(0,0,0,.06);
             border-color:#4286f4;
             position: absolute;
            }
            .intro{
                margin: 0vh 0vw 0vh 0vw;
                position: absolute absolute;
            }
            .func-class{
                margin: -10vh 10vw 0vh -20vw;
                position: absolute absolute;
            }
        
            .input-text{ 
            border: 2px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            width: 15vw;
            height:4vh;
            margin-right: 1vw;
            font-size: 15px;
           }
           ul{
            list-style-type:none;
            margin:0;
            padding:0; 
            font-size: 14px;
            }
           .h4_path{position: absolute;margin: -1.1vh 0vw 0vh -4.5vw; width: 15vw;} 
           .h4_path:hover{font-size: 20px;}
           .h4_enzy{position: absolute;margin: -2.1vh 0vw 0vh 20.3vw; width:25vw; font-size: 30px; color:tan}
           .h4_enzy:hover{font-size: 20px;}
           .h4_part{position: absolute;margin: -1.1vh 0vw 0vh 54vw; width: 15vw;}
           .h4_part:hover{font-size: 20px;}
        </style>
        <script>
            function showfunc(){
                var box_height = document.getElementById('func_box');
                var func = document.getElementById('func-info');
                var intro = document.getElementById('intro-info');
                var func_visi = func.style.visibility;
                var intro_visi = intro.style.visibility
        
                if(func_visi =="hidden"){
                    func.style.visibility="unset";
                    box_height.style.height="30vh";
                    // intro.style.visibility = "hidden"
                }
                else{
                    func.style.visibility="hidden";
                    intro.style.visibility="unset";
                    box_height.style.height="40vh";
                }         
            };
        
            function menue_show(){
                var menue = document.getElementById('menue')
                if (menue.style.visibility=="hidden"){
                    menue.style.visibility="unset"
                }
                else{
                    menue.style.visibility="hidden"
                }
            }
            
            $(function(){
                $("#intro").on("click",function(){
                   $("#func-info").slideDown(500) ; //滑动消失
                   $("#intro-info").slideDown(500)
                }) ;
                $("#func").on("click",function(){
                   $("#intro-info").slideUp(500) ; //滑动显现
                //    $("#func-info").slideUp(500)
                }) ;
                $("#menue_hide").on("click",function(){
                    var menue = document.getElementById('menue')
                    menue.style.visibility="hidden"
                })
            }) ;
                    
        </script>
        </head>
        
        <body  class="enzyme-page-back">
            <div style="margin-left: 4vw;">
                <img id="menue_btn" onclick="menue_show()" src="../media/img/menue.png" alt="123" title="menue" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 83vw">
                <div id="menue" style=" visibility: hidden;;position: absolute; margin:8vh 0vw 0vh 83vw;background-color: whitesmoke;border:1px solid white;border-radius: 5px;padding: 1vh 1vw 2vh 1vw;color: black ">
                    <ul>
                        <li><a href="/pathlab/">Home</a></li>
                        <li><a href="/pathway/">path_search</a></li>
                        <li><a href="/enzyme/">enzyme_selection</a></li>
                        <li><a href="/parts/">parts_design</a></li>
                    </ul>
                </div>
                <img src="../media/img/log_in.png" alt="123" title="log in" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 87vw">
                <img src="../media/img/logo3.png" alt="123" title="Go Back TO Tongji_iGEM" style="width: 5%; position: absolute;margin:1.5vh 0vw 0vh 0vw" >
                <img src="../media/img/log_out.png" alt="123" title="log out" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 91vw" > 
            </div>
        
        <div id="menue_hide" style="text-align:center;overflow: hidden;width: 100vw;">
            <div class="enzyme-text">
        
        
                <h1>Enzyme Selection</h1>
                <hr style="width: 25vw;border: 0; border-bottom: 2px solid white">
                <br><br>
                <div class="function-box" id="func_box">
        
                  <div id="intro-info" >
                    <h4 style="color:rgba(255, 255,255,0.8)">introduction introduction introduction introduction introduction introduction<br><br>introduction introduction introduction<br><br>introduction introduction introduction<br><br>introduction introduction<br><br>introduction
                    introduction introduction introduction introduction introduction introduction<br><br>
                    </h4>
                    <button id="func" class="intro" onclick="showfunc()">Start my search</button>
                  </div>
        
                 <div id="func-info" style="visibility:hidden;position: absolute;margin: -1vh -10vw  0vh 5vw; background-color: rgba(209, 209, 46, 0);padding:20px 0px 0px 0px;; width: 68vw;height: 60vh; z-index:10; font-size: 20%">
                  <form enctype="multipart/form-data" action="/enzyme_result/" method="POST" >
                    
                    <h4 style="text-align:left; padding:0vh 0vw 0vh 5vw ; ">
                        <!-- <div class="row">
                            <div class="col-md-4"><b style="padding:0px 10px 0px 0px;">EC Number:</b> <input class="form-control" type="text" value="6.3.3.6" name="EC"> </div>
                            <div style="padding: 0; width: 10vw"><input class="form-control" type="text" value="6.3.3.6" name="EC"></div>
                            <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="Input the EC number you want to select"></span></div>
                        </div>
                        <br><br>
                        <div class="row">
                            <div class="col-md-4"><b style="padding:10px 15px 15px 30px;">Substrate:</b></div>
                            <div class="col-md-4"> <input class="form-control" type="text" value="(2S,5S)-5-carboxymethylproline" name="substrate"></div>
                            <div class="col-md-4"><span class="glyphicon glyphicon-question-sign" title="Input the Substrate you want to select"></span></div>
                        </div> -->
                                <b style="padding:10px 10px 15px 0px;color:rgba(255, 255,255,0.8)">EC Number :</b> <input class="input-text" type="text" value="6.3.3.6" name="EC"><span class="glyphicon glyphicon-question-sign" title="Input the EC number you want to select"></span>
                                <br><br>
                                <b style="padding:10px 10px 15px 15px;color:rgba(255, 255,255,0.8)">Substrate :</b> <input class="input-text" type="text" value="(2S,5S)-5-carboxymethylproline" name="substrate"><span class="glyphicon glyphicon-question-sign" title="Input the Substrate you want to select"></span>
                                <br>
        
                    </h4> 
        
                    <div style="text-align: right; margin: 13vh 10vw 0vh 15vw;position:absolute; z-index:10;">
                        <input class="input-submit" type="submit"  value="Submit">
                    </div>
        
                   </form>
                   <br><br><br><br>
                   <button id="intro" class="func-class" onclick="showfunc()">Introduction</button>
                </div>
        
            </div>
            </div>
            <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="margin-top: 45%;margin-left: 80%; width: 5%" ></a>
        </div>
        </body>
        </html>
        



        ##########################################################################################

        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Pathlab</title>
            <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
            <link href="../media/css/alink.css" rel="stylesheet" type="text/css">
        </head>
        
        <body style="margin:0;padding:0">
            <div class="back-home1">
                <div style="background-color: rgba(0, 0, 0, 0.7);height: 100%; vertical-align: middle;">
                    <div class="text-home1">
                        <h1>Welcome to Pathlab!</h1>
                        <br>
                        <h1> 
                            <a class="a-style" href="/pathway/">Pathway Search</a> 
                            |
                            <a class="a-style" href="/enzyme/">Enzyme Selection</a>
                            |
                            <a class="a-style" href="/parts/">Parts Design</a> 
                            <br><br><br><br><br><br><br><br><br><br><br><br>
                            |    
                            <br><br><br><br><br><br><br><br><br><br><br><br>
                        </h1>
                    </div>
                    <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="margin-top: 45%;width: 5%" ></a>
                </div>
            </div>
        </body>
        </html>
        
        ##########################################################################################
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Pathlab</title>
            <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
            <link href="../media/css/alink.css" rel="stylesheet" type="text/css">
        </head>
        
        <body class="home-page-back">
            <div class="home-text-back">
            <!--black background-->
            </div>
            <div style="text-align:center">
                <div class="home-text">
                    <h1>Welcome to Pathlab!</h1>
                    <br>
                    <h1> 
                        <a class="a-style" href="/pathway/">Pathway Search</a> 
                        |
                        <a class="a-style" href="/enzyme/">Enzyme Selection</a>
                        |
                        <a class="a-style" href="/parts/">Parts Design</a> 
                    </h1>
                    <br><br><br><br>
                    <TABLE BORDER=1>
                        <TBODY><TR>
                            <FONT size="2">
                            <TD><B><include file="test.txt"></B></TD>
                        </TBODY>
                    </TABLE>
                    
                    
                    <a href="/pathlab/"><img src="../media/img/ll.png" alt="logo" style="width: 8%" ></a>
                </div>
                 
            </div>
        </body>
        </html>
        ##########################################################################################
        
        
        
        # def sort_by_default(enzyme, substrate, org):
        #     organism = data[enzyme]
        #     selections = []
        #     selections2 = []
        #     flag = 'kkm'
        #     KKM_Score = []
        #     KM_Score = []
        
        #     # for org in organism:
        #         kkm = data[enzyme][org]['KKM']
        #         ph = data[enzyme][org]['PH']
        #         t = data[enzyme][org]['T']
        
        #         if len(kkm) == 0:
        #             kkm = 0
        #             flag = 'km'
        #         else:
        #             kkm = round(sum(kkm) / len(kkm), 2)
        #         if substrate in data[enzyme][org]['KM'].keys():
        #             km = data[enzyme][org]['KM'][substrate]
        #         else:
        #             km =  get_km_default(substrate, org)
                
        
        #         if ph != [999]:
        #             ph_ = ph[-1]
        #         else:
        #             ph_ = get_pH_default(org)
        #         if t != [999]:
        #             t_ = t[-1]
        #         else:
        #             t_ = get_temp_default(org)
        
        #         KKM_Score.append(kkm)
        #         if km == 999:
        #             km = 0
        #         KM_Score.append(km)
        #         selections.append([org,kkm, km, ph_, t_])
        
        #         if kkm == 0:
        #             kkm = '-'
        #         if km == 999:
        #             km = '-'
        #         if ph_ == 999:
        #             ph_ = '-'
        #         if t_ == 999:
        #             t_ = '-'
        #         selections2.append([org,kkm, km, ph_, t_])
                
                
        #     KKM_Score = sorted(list(set(KKM_Score)))
        #     min_kkm = min(KKM_Score)
        #     max_kkm = max(KKM_Score)
        #     l_kkm = max_kkm-min_kkm
        #     if l_kkm == 0:
        #         l_kkm = 1
        
        #     KM_Score = sorted(list(set(KM_Score)))
        #     min_km = min(KM_Score)
        #     max_km = max(KM_Score)
        #     l_km = max_km-min_km
        #     if l_km == 0:
        #         l_km = 1
        
        #     for k in range(len(selections)):
        #         SCORE = 0.0
        
        #         selections[k][1] = (selections[k][1]-min_kkm)/l_kkm
        #         selections[k][2] = (selections[k][2]-min_km)/l_km
        #         if selections[k][3] == 999:
        #             selections[k][3] = 0.0
        #         else:
        #             selections[k][3] = Score_ph(selections[k][3])
        #         if selections[k][4] == 999:
        #             selections[k][4] = 0.0
        #         else:
        #             selections[k][4] = Score_t(selections[k][4])
        #         SCORE = round(sum(selections[k][1:]),2)
        #         selections2[k].append(SCORE)
        
        #     if flag == 'kkm':
        #         return sorted(selections2, key=lambda x: (x[5]), reverse=True)
        #     elif flag == 'km':
        #         return sorted(selections2, key=lambda x: (x[5]),reverse=True)
        
        
        
        
        # ph_score = {2.0: 0.0009487666034155598, 2.5: 0.001265022137887413, 3.0: 0.0028462998102466793, 3.5: 0.003795066413662239, 4.0: 0.00980392156862745, 4.5: 0.009487666034155597, 5.0: 0.024667931688804552, 5.5: 0.023402909550917138, 6.0: 0.06704617330803289, 6.5: 0.07147375079063885, 7.0: 0.1691967109424415, 7.5: 0.19955724225173938, 8.0: 0.16793168880455406, 8.5: 0.09139784946236558, 9.0: 0.07495256166982922, 9.5: 0.034471853257431996, 10.0: 0.028462998102466795, 10.5: 0.008538899430740038, 11.0: 0.007906388361796331, 11.5: 0.0009487666034155598, 12.0: 0.0015812776723592662, 12.5: 0, 13.0: 0.00031625553447185326, 13.5: 0}
        # print(len(ph_score))
        # def Score_ph(ph):
        #     if ph - int(ph) >0.5:
        #         score = ph_score[int(ph) + 0.5]
        #     else:
        #         score = ph_score[int(ph)]
        #     return score
        
        # t_score  = {0: 0.005772005772005772, 5: 0.00505050505050505, 10: 0.007936507936507938, 15: 0.010101010101010102, 20: 0.08585858585858586, 25: 0.15512265512265513, 30: 0.14141414141414144, 35: 0.34199134199134207, 40: 0.05844155844155845, 45: 0.049062049062049064, 50: 0.04184704184704184, 55: 0.026695526695526692, 60: 0.02958152958152958, 65: 0.010822510822510824, 70: 0.011544011544011544, 75: 0.005772005772005772, 80: 0.007936507936507936, 85: 0.001443001443001443, 90: 0.0021645021645021645, 95: 0.0007215007215007215, 100: 0.0007215007215007215}
        # print(len(t_score))
        # def Score_t(t):
        
        #     if t - t//10*10 >5:
        #         score = t_score[t//10*10 + 5]
        #     else:
        #         score = t_score[t//10*10]
        #     return score
        # ph = 3.4
        # print(Score_ph(ph))
        
        # t = 39
        # print(Score_t(t))
        
        
        # def sort_by_default(enzyme, substrate):
        #     organism = data[enzyme]
        #     selections = []
        #     flag = 'kkm'
        #     for org in organism:
        #         kkm = data[enzyme][org]['KKM']
        #         ph = data[enzyme][org]['PH']
        #         t = data[enzyme][org]['T']
        
        #         if len(kkm) == 0:
        #             kkm = 0
        #             flag = 'km'
        #         else:
        #             kkm = sum(kkm) /  len(kkm)
        #         if substrate in data[enzyme][org]['KM'].keys():
        #             km = data[enzyme][org]['KM'][substrate]
        #         else:
        #             km =  get_km_default(substrate, org)
                
        
        #         if ph != [999]:
        #             ph_ = ph[-1]
        #         else:
        #             ph_ = get_pH_default(org)
        #         if t != [999]:
        #             t_ = t[-1]
        #         else:
        #             t_ = get_temp_default(org)
        #         if kkm == 0:
        #             kkm = '-'
        #         if km == 999:
        #             km = '-'
        #         if ph_ == 999:
        #             ph_ = '-'
        #         if t_ == 999:
        #             t_ = '-'
                
        #         selections.append([org,str(kkm), str(km), str(ph_), str(t_)])
        
        #     if flag == 'kkm':
        #         return sorted(selections, key=lambda x: (x[1], x[3], x[4]), reverse=False)
        #     elif flag == 'km':
        #         return sorted(selections, key=lambda x: (x[2], x[3], x[4]))
        
        
        
        
        
        # print(sort_by_default('6.3.3.6', '(2S,5S)-5-carboxymethylproline'))
        
        # ATP	dATP	dADP	ADP
        # R02014	R01137	R02017
        # 1.17.4.2	2.7.4.6	1.17.4.1
        # python3 try.py '1.17.4.2,2.7.4.6,1.17.4.1' 'ATP,dATP,dADP'
        # python3 enzyme_selection.py '1.17.4.2,2.7.4.6,1.17.4.1' 'ATP,dATP,dADP'
        
        # 1.17.4.2,  2.7.4.6,  1.17.4.1
        # Cricetulus griseus, Homo sapiens, Rattus norvegicus
        
    


                <!-- <a style="text-decoration:none;color:white; width: 10vw" href="{% url 'Report' compounds|join:',' enzymes|join:',' seq_data %}">
                <div style="width: 10vw;background-color:black;color: aliceblue; border: 2px solid black;border-radius: 10px;text-align: center;padding: 5px;margin-left: 0vw">
                    Give me a report
                </div>
            </a> -->
        
        
        
    <!-- {% for i in seq %}
                	<tr>
                        
                        <td>{{ i.0 }}</td> <!--菌种名字-->
                        <td>{{ i.1 }}</td>
                             <!-- <td style="overflow: hidden;">{{ i.2 }}</td> -->
                        <td><div style="text-align: center; width: 37vw;padding: 0; overflow: hidden; text-overflow:ellipsis; color:red"> {{ i.2 }}</div> </td>
                             <!-- <th style="padding: 0"><b style="text-align: center; width: 30vw;padding: 0; overflow:hidden; color:red"> {{ i.2 }}</b> </th> -->
                		         <!-- {% for j in i %} -->
                		               <!-- <th>{{ j }}</th> -->
                                       <!-- {% endfor %} -->
                        <td>CAI</td>
                        <td>Codon</td>
                    </tr>
                    {% endfor %}     
        
        
        
        
    ————————————————————————pathway result——————————————————————————————————————————
    source /Users/xubo/software_env/bin/activate
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>pathway result</title>
    <link href="../media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="../media/css/alink.css" rel="stylesheet" type="text/css">
    
    <style>
        .path-result-page-back2{
            /* background-image: url("../img/back1.jpg"); */
            background-position: center;
            background-attachment:fixed;
            background-size: cover;
            color: black;
            margin:0;
            padding:0;
        }
        .path-result-text2{
            position: absolute;
            width: 80vw;
            margin-left: 10vw;
            /* margin: -10% 0 0 0%; */
            vertical-align: middle;
            text-align:center;
        }
    </style>

    <script>
        function menue_show(){
            var menue = document.getElementById('menue')
            if (menue.style.visibility=="hidden"){
                menue.style.visibility="unset"
            }
            else{
                menue.style.visibility="hidden"
            }
        };
        $(function(){
            $("#menue_hide").on("click",function(){
                var menue = document.getElementById('menue')
                menue.style.visibility="hidden"
            })
        }) ;
    </script>
</head>

<body class="path-result-page-back2">
    <!-- <div class="path-result-text-back">
    black background
    </div> -->
    <div style="background-color: rgba(0, 0, 0, 1); height: 7vh;position: relative">
        <img id="menue_btn" onclick="menue_show()" src="../media/img/menue.png" alt="123" title="menue" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 87vw">
        <div id="menue" style=" visibility: hidden;;position: absolute; margin:8vh 0vw 0vh 83vw;background-color: whitesmoke;border:1px solid white;border-radius: 5px;padding: 1vh 1vw 2vh 1vw;color: black ">
            <ul>
                <li><a href="/pathlab/">Home</a></li>
                <li><a href="/pathway/">path_search</a></li>
                <li><a href="/enzyme/">enzyme_selection</a></li>
                <li><a href="/parts/">parts_design</a></li>
            </ul>
        </div>
        {% if user.is_active %}
            <img src="/media/img/user.png" alt="123" title="already log in" style="width: 1.6%;position: absolute; margin: 2.3vh 0vw 0vh 91vw" >
        {% else %}            
            <a href="/login/"><img src="../media/img/log_in.png" onclick="openme()" alt="123" title="log in" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 91vw"></a> 
            <!-- <img src="../media/img/log_in.png" onclick="openme()" alt="123" title="log in" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 87vw"> -->
        {% endif %}    
        <img src="../media/img/pathlab2.png" alt="123" title="Go Back TO Tongji_iGEM" style="width: 8%; position: absolute;margin:1.5vh 0vw 0vh 3vw" >
        <a href="/logout/"><img src="../media/img/log_out.png" alt="123" title="log out" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 95vw" > </a> 
    </div>

    <div style="position: fixed; margin: 80vh 0vw 0vh 92vw;  width: 5vw" >
        <a href="/pathlab/"><img src="/../media/img/menu.png" alt="logo" width="100%"></a>
    </div>
    
    <div style="text-align:center" id="menue_hide">
        <div class="path-result-text2">
            <div style="text-align: left;margin-top: 5vh" id="Search_result">
                <h1> Search Result</h1>
                <table class="table_class">
                    <thead>
                        <tr>
                            <th>Pathway</th>
                    	    <th>Score</th>
                    	    <!-- <th>Enzyme</th> -->
                    	    <!-- <th>Sequence</th> -->
                        </tr>
                    </thead>
                    
                    {% for i in result %}
                    {% with cID=i.0|join:"->" %}
                    {% with compound=i.1|join:"," %}
                    {% with reaction=i.2 %}
                    {% with enzyme=i.3|join:"," %}
                	<tr>
                	    <!-- <th>{{ compound }}</th> -->
                		<th> <a href="{% url 'pathway_information' cID compound reaction|join:',' enzyme %}">{{ cID }}</a> </th>
                		<!-- <th>{{ enzyme }}</th>   compound reaction|join:',' enzyme -->
                		<th>
                			<!-- {% with 'get_by_KKM'|add:enzyme as ID1 %} -->
                			<!-- {% with 'get_by_pH'|add:enzyme as ID2 %} -->
                            <!-- <a href="{% url 'sequence_result' enzyme %}">get sequence</a> -->
                            {{ i.4 }}
   <!-- 
             			<form enctype="multipart/form-data" action="/sequence_result/" method="POST" >
                   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="text" name="ec" value={{ enzyme }}>
       			   				<input style=" border: none;padding: 5px 3px;padding-left: 0%;display: none;visibility: hidden" type="submit" id={{ ID2 }}>
                    			<label for={{ ID2 }}>
                        			<a>get sequence</a>
                    			</label>
            				</form>
 -->
            				<!-- {% endwith %} -->
            				<!-- {% endwith %} -->
            			</th>
                    </tr>
                    {% endwith %}
                	{% endwith %}
                	{% endwith %}
					{% endwith %}
                	{% endfor %}
                </table>
                {{ try }}
                <br>
                <br>
            </div>

            <div style="text-align: left;margin-top: 5vh" id="wordcloud">
                <h1>Wordcloud about the compound</h1>
                <img src="../media/img/6.png" alt="wordcloud" style="width: 30%" > 
            </div>     
        </div>
    </div>
</body>
</html>







_______________________________pathway_information__________________________________________
    {% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>pathway result</title>
    <link href="/media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="/media/css/alink.css" rel="stylesheet" type="text/css">

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="/media/js/d3.v5.min.js"></script>

    <style>
        .path-result-page-back2{
            /* background-image: url("../img/back1.jpg"); */
            background-position: center;
            background-attachment:fixed;
            background-size: cover;
            color: black;
            margin:0;
            padding:0;
        }

        .path-result-text-back{
            background-color: rgba(0, 0, 0, 0.7);
            height: 100%; 
            width:100%;
            z-index:-1;
            position:fixed;
        }

        .path-result-text{
            position: absolute;
            top: 30%;
            left: 45%;
            width: 60%;
            margin: -15% 0 0 -25%;
            vertical-align: middle;
            text-align:center;
        }

        /* .table_class2{
            text-align: center;
            color:black;
            border-collapse:separate;
            border-collapse:collapse;
            width: 100%;
            font-size: 1px;
            box-shadow: 1px 1px 5px #888888;
            border-radius: 1px red;
        }
        .table_class2 td, .table_class2 th{
	        font-size:15px;
	        border:1px solid #888888;
	        padding:3px 7px 2px 7px;
        } */
        .home_img{
            /* style="position: fixed; margin: 80vh 0vw 0vh 92vw;  width: 5vw"  */
            position: fixed; 
            margin: 80vh 0vw 0vh 92vw; 
            width: 6vw;
            z-index: 10000;
            transition: width 200ms, margin 200ms;
        }
        .home_img:hover{
            width: 7vw;
            margin: 79.5vh 0vw 0vh 91.5vw; 
            transition: width 200ms, margin 200ms;
        }
        table{
            /*border-collapse: collapse;*/
            border-spacing:0;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 14px;
            color: #444;
        }
        .custom_tb tr:hover{
            background-color: #fbf8e9;
            transition: all 0.1s ease-in-out;
        }
        .custom_tb th,.custom_tb td{
            border-left: 1px solid #ccc;
            border-top: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        .custom_tb th{
            background-color: #dce9f9;
            border-top:none;
        }
        .custom_tb td:first-child,.custom_tb th:first-child{
            border-left: none;
        }
        .custom_tb th:first-child{
            border-radius: 6px 0 0 0;
        }
        .custom_tb th:last-child{
            border-radius: 0 6px 0 0;
        }
        .custom_tb tr:last-child td:first-child{
            border-radius: 0 0 0 6px;
        }
        .custom_tb tr:last-child td:last-child{
            border-radius: 0 0 6px 0;
        }
        .custom_tb{
            width: 80vw;
            margin: 10px auto;
            border:1px solid #ccc;
            border-radius: 6px;
            box-shadow: 0 1px 1px #ccc;
        }
        .report_button{
            font-size: 20px; 
            background-color: black;
            border-radius: 15px;
            color:white;
            padding:2vh 2vw 2vh 2vw;
            outline: none;
            margin-left: 0vw;
            transition: margin 200ms, font-size 200ms; 
        }
        .report_button:hover{
            /* padding:2vh 3vw 2vh 3vw; */
            margin-left: 0vw;
            margin-top:0.5vw;
            font-size: 22px; 
            cursor:pointer;
        }
        .ball_style{
            background-color:lightskyblue;
            width: 6vw;
            height: 6vw;
            border-radius: 3vw;
            outline: none;
        }
        .ball_style:hover{
            cursor:pointer;
        }
		svg text,svg .node{
			cursor:pointer;
		}
		svg .selected{
			fill:red;
		}
    </style>
	<script>
		// 边距， 宽，高
		var margin = {
			top: 0, left: 0, right: 0, bottom: 0
		};
		var outWidth = 45;
		var outHeight =35;
		var width = outWidth - margin.left - margin.right;
		var height = outHeight - margin.top - margin.bottom;
		$.config = {
			link: {
				enabled: true,
				distance: 150,
				strength: -600,
				iterations: 1
			},
			dotR: 30
		}		
		var svgList = [];
		var dotColor = d3.scaleOrdinal(d3.schemeCategory10);
	</script>
    <script>
        function menue_show(){
            var menue = document.getElementById('menue')
            if (menue.style.visibility=="hidden"){
                menue.style.visibility="unset"
            }
            else{
                menue.style.visibility="hidden"
            }
        };
        function sel_seq_show(){
            var sel_seq_style = document.getElementById('sel_seq')
            if (sel_seq_style.style.visibility=="hidden"){
                sel_seq_style.style.visibility="unset"
            }
            else{
                sel_seq_style.style.visibility="hidden"
            }
        }
		
		
        $(function(){
            $("#menue_hide").on("click",function(){
                var menue = document.getElementById('menue')
                menue.style.visibility="hidden"
            })
        });
        $(document).ready(function () {
        {% for path in path_information %}
        {% with forloop.counter as k %}
           $("#{{ path.0 }}_{{ k }}").click(function () {
               $("#{{ path.0 }}_re_{{ k }}").slideToggle();
           });
			var svg = d3.select("#svg_{{ path.0 }}_ball1");			
			var chart = {
				svg:svg,
				width:$("#svg_{{ path.0 }}_ball1").width(),
				height:$("#svg_{{ path.0 }}_ball1").height(),
				data:{
					nodes:[
						{
							id:"{{path.4}}"
						},
						{
							id:"{{path.5}}"
						}
					],
					links:[
						{"source": "{{path.4}}", "target": "{{path.5}}", "value": 1}
					]
				}
			}
			chart.Glink = svg.append("g")
                .attr("stroke", "#999")
				.attr("stroke-opacity", 0.6)
				.attr("transform", "translate(" + (chart.width/2) + "," + (chart.height/2) + ")");
            chart.Gnode = svg.append("g")
				.attr("transform", "translate(" + (chart.width/2) + "," + (chart.height/2) + ")")
			;			
			chart.Gtext = svg.append("g")
				.attr("transform", "translate(" + (chart.width/2) + "," + (chart.height/2) + ")")
			;
			chart.node_selected = function(id){
				if(id === "{{path.4}}"){
					 $('#{{ path.0 }}_{{ k }}_Name').html("{{ path.6.0 }}");
					$('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.6.1 }}");
					$('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.6.2 }}");
					$('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.6.3 }}");
					$('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.6.4 }}");
					$('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.6.5 }}");
					$("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.4 }}.jpg");
					return;
				}
				if(id === "{{path.5}}"){
					$('#{{ path.0 }}_{{ k }}_Name').html("{{ path.7.0 }}");
					$('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.7.1 }}");
					$('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.7.2 }}");
					$('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.7.3 }}");
					$('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.7.4 }}");
					$('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.7.5 }}");
					$("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.5 }}.jpg");
					return;
				}
			}
			
			chart.draw = function(){
				var self = this;
				var simulation = d3.forceSimulation();
				var drag = simulation => {
					function dragstarted(d) {
						if (!d3.event.active) simulation.alphaTarget(0.3).restart();
						d.fx = d.x;
						d.fy = d.y;
					}
					function dragged(d) {
						d.fx = d3.event.x;
						d.fy = d3.event.y;
					}
					function dragended(d) {
						if (!d3.event.active) simulation.alphaTarget(0);
						d.fx = null;
						d.fy = null;
					}
					return d3.drag()
						.on("start", dragstarted)
						.on("drag", dragged)
						.on("end", dragended);
				}
				var data = this.data;
				
				self.links = data.links.map(d => Object.create(d));
                self.nodes = data.nodes.map(d => Object.create(d));
                //var groups = data.nodes.map(function (d) { return d.group; });
                self.svg.append("defs").selectAll("marker")
                    .data([2])
                    .enter()
                    .append("marker")
                    .attr("id", function (d) { return "suit-{{ path.0 }}"; })
                    .attr("viewBox", "0 -5 10 10")
                    .attr("refX", 22)
                    .attr("refY", 0.2)
                    .attr("markerWidth", 24)
                    .attr("markerHeight", 24)
                    .attr("orient", "auto")
                    .append("path")
                    .attr("d", "M0,-2L10,0L0,2")
                    .attr("fill", function (d) {
                        return dotColor(d);
                    });
                simulation = d3.forceSimulation(self.nodes)
                    .force("link", d3.forceLink(self.links).id(d => d.id))
                    .force("charge",
                    d3.forceManyBody().strength($.config.link.strength))
                    .force("center", d3.forceCenter(width / 2, height / 2))
                    .force("x", d3.forceX())
                    .force("y", d3.forceY())
                    ;
                simulation.force("link")
                    .distance($.config.link.distance);
                self.link = self.Glink
                    .selectAll("line")
                    .data(self.links)
                    .join("line")
                    .attr("class", "link")
                    .attr("stroke-width", 1)
                    .attr("marker-end", function (d) {
                        return "url(#suit-{{ path.0 }})";
                    })
                    ;
                self.node = self.Gnode
                    .selectAll("circle")
                    .data(self.nodes)
                    .join("circle")
                    .attr("class", "node")
					.attr("id", function(d){
						return "node-" + d.id;
					})
                    .attr("r", $.config.dotR)
                    .attr("fill", function (d) {
                        return dotColor(d.id);
                    })
                    .call(drag(simulation))
                    .on("click", function(d){
						self.svg.selectAll(".node")
							.classed("selected",false);
						self.svg.select("#node-" + d.id)
							.classed("selected",true);
						self.node_selected(d.id);							
					})
                    ;
				self.text = self.Gtext
                    .selectAll("text")
                    .data(self.nodes)
                    .join("text")
                    .style("color", function (d) {
                        return "#000";
                    })
                    .attr("class", "id-text")
                    .text(d => d.id)
					.on("click", function(d){
						self.svg.selectAll(".node")
							.classed("selected",false);
						self.svg.select("#node-" + d.id)
							.classed("selected",true);
						self.node_selected(d.id);
					})
                    ;
				simulation.on("tick", () => {
                    self.link
                        .attr("x1", d => d.source.x)
                        .attr("y1", d => d.source.y)
                        .attr("x2", d => d.target.x)
                        .attr("y2", d => d.target.y);
                    self.node
                        .attr("cx", function (d) {
                            return d.x;
                        })
                        .attr("cy", function (d) {
                            return d.y;
                        });
					self.text
                        .attr("x", d => (d.x - (d.id.length * 11)/2))
                        .attr("y", d => d.y + ($.config.dotR - 12) / 2)
                        .style("opacity", 1);
                });
			}	
			svgList.push(chart);
			
           $("#{{ path.0 }}_{{ k }}_ball1").click(function(){
            
                $('#{{ path.0 }}_{{ k }}_Name').html("{{ path.6.0 }}");
                $('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.6.1 }}");
                $('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.6.2 }}");
                $('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.6.3 }}");
                $('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.6.4 }}");
                $('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.6.5 }}");
                $("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.4 }}.jpg");
            });
           $("#{{ path.0 }}_{{ k }}_ball2").click(function(){
                $('#{{ path.0 }}_{{ k }}_Name').html("{{ path.7.0 }}");
                $('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.7.1 }}");
                $('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.7.2 }}");
                $('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.7.3 }}");
                $('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.7.4 }}");
                $('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.7.5 }}");
                $("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.5 }}.jpg");
            
            });
            {% endwith %}
        {% endfor %}
       });
	   
	   $(function(){
            for(var i in svgList){
				svgList[i].draw();
			}
        });
    </script>
	
	
</head>

<body class="path-result-page-back2">
    <!-- <div class="path-result-text-back">
    black background
    </div> -->
    <div style="background-color: rgba(0, 0, 0, 1); height: 7vh;position: relative" >
        <img id="menue_btn" onclick="menue_show()" src="/../media/img/menue.png" alt="123" title="menue" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 87vw">
        <div id="menue" style=" visibility: hidden;;position: absolute; margin:8vh 0vw 0vh 83vw;background-color: whitesmoke;border:1px solid white;border-radius: 5px;padding: 1vh 1vw 2vh 1vw;color: black ">
            <ul>
                <li><a href="/pathlab/">Home</a></li>
                <li><a href="/pathway/">path_search</a></li>
                <li><a href="/enzyme/">enzyme_selection</a></li>
                <li><a href="/parts/">parts_design</a></li>
            </ul>
        </div>
        {% if user.is_active %}
            <img src="../media/img/user.png" alt="123" title="already log in" style="width: 1.6%;position: absolute; margin: 2.3vh 0vw 0vh 91vw" >
        {% else %}            
            <a href="/login/"><img src="/../media/img/log_in.png" onclick="openme()" alt="123" title="log in" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 91vw"></a> 
        {% endif %}    
        <img src="/../media/img/pathlab2.png"  alt="123" title="Go Back TO Tongji_iGEM" style="width: 8%; position: absolute;margin:1.5vh 0vw 0vh 3vw" >
        <a href="/logout/"><img src="/../media/img/log_out.png" alt="123" title="log out" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 95vw" > </a> 
    </div>

    <div class="home_img" >
        <a href="/pathlab/"><img src="/../media/img/menu.png" alt="logo" width="100%"></a>
    </div>

    <div id="menue_hide" style="text-align:left; width: 80vw; margin-left: 10vw;overflow: hidden;"> 
        <br>
        <br>
        <div style="text-align: center; border: 2px solid black;border-radius: 10px; background-color: black;color: white; padding: 10px; font-size: 1vw">
            {{ path_information.0.1 }}
            {% for path in path_information %}
            <b></b>
                -> {{ path.2 }}
            {% endfor %}
        </div>
<!--         {{ compounds_infor }} -->
        
        <!-- <h3>Selection your enzyme that you need</h3> 
        <div id="sel_box_report" style="width: 30vw; height: 30vh; border:2px solid cornflowerblue;border-radius: 20px ">
            
        </div> -->
        <br>
        <h1>Pathway Details</h1>
        <form action="/Report/" method="POST">
            <br>
            {% for path in path_information %}
                {% with forloop.counter as k %}
                <hr style="height:2px;border:none;border-top:5px dotted lightskyblue;">
                <h2> 
                    Reaction {{ k }} : <a href="https://www.genome.jp/dbget-bin/www_bget?rn:{{ path.0 }}"> {{ path.0 }}<br></a>
                </h2> 

                <a href="https://www.genome.jp/dbget-bin/www_bget?cpd:{{ path.4 }}">{{ path.4 }}</a> ->  <a href="https://www.genome.jp/dbget-bin/www_bget?cpd:{{ path.5 }}">{{ path.5 }}</a><br>
                {{ path.1 }} -> {{ path.2 }}
                <br><br>
            
                <div style="margin-left: 5vw; background-color: bisque; width:45vw;height: 35vh;border: 2px solid bisque;border-radius: 10px;text-align: center ">
                    <!-- {{ path.1 }} -> {{path.2}}<br>
                    <div id="{{ path.0 }}_{{ path.1 }}_ball1" > ball</div>-> 
                    <div id="{{ path.0 }}_{{ path.2 }}_ball2" > ball</div> -->
                    <!-- <b id="{{ path.0 }}_{{ path.1 }}_{{ k }}"> ball </b>  -> <b id="{{ path.0 }}_{{ path.2 }}_{{ k }}">ball</b>  -->
                    <!-- <b id="{{ path.0 }}_{{ k }}_ball1"> {{ path.1 }} </b>  -> <b id="{{ path.0 }}_{{ k }}_ball2">{{ path.2 }}</b>  -->
                    <!-- <b id="{{ path.0 }}_{{ k }}_ball1" style="background-color: antiquewhite;width: 6vw;border: #3489f3 "> ball1 </b>  -> <b id="{{ path.0 }}_{{ k }}_ball2"> ball2 </b>  -->
					<svg id="svg_{{ path.0 }}_ball1" style="width:45vw;height: 35vh;"></svg>
                    <!-- <button type="button" id="{{ path.0 }}_{{ k }}_ball1" class="ball_style"> {{ path.4 }} </button>  ->  -->
					<!-- <button type="button" id="{{ path.0 }}_{{ k }}_ball2" class="ball_style"> {{ path.5 }} </button>  -->

                </div>

                
                <div style="margin-left: 55vw; background-color: bisque; width:20vw;height: 35vh;border: 2px solid bisque;border-radius: 10px;position: absolute; margin-top: -35.5vh; text-align: right">
                    
                    <div style="margin-left: 1vw; margin-top: 1vh; margin-right: 1vw">
                        Name:      <textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_Name">{{ path.6.0 }}</textarea><br>
                        FORMULA:   <textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_FORMULA">{{ path.6.1 }}</textarea><br>
                        MOL_WEIGHT:<textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_MOL_WEIGHT">{{ path.6.2 }}</textarea><br>
                        EXACT_MASS:<textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_EXACT_MASS">{{ path.6.3 }}</textarea><br>
                        DBLINKS:   <textarea readonly="readonly" style="height: 5vh" id="{{ path.0 }}_{{ k }}_DBLINKS">{{ path.6.4 }}</textarea><br>
                        REMARK:    <textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_REMARK">{{ path.6.5 }}</textarea><br>
                        <img style="width:8vw" id="{{ path.0 }}_{{ k }}_IMG" src="/../media/img/compound_img/{{ path.4 }}.jpg" alt="123"> 
                    </div>
                    <br><br><br>
                     
                </div>

                <a href="https://www.brenda-enzymes.org/enzyme.php?ecno={{ path.3.0 }}"> {{ path.3.0 }}<br><br></a>
                    <!-- {{ path.3.1 }}<br><br> -->
                <!-- <div style="width: 10vw;background-color: black;color: aliceblue; border: 2px solid black;border-radius: 10px;text-align: center;" onclick="sel_seq_show()">Selection result</div>  -->

                <div id="{{ path.0 }}_{{ k }}" style="width: 10vw;background-color: black;color: aliceblue; border: 2px solid black;border-radius: 10px;text-align: center;" >Selection result</div> 
                <br>
                
                <div id="{{ path.0 }}_re_{{ k }}" style="display: none">
                    {% with path.3.1 as sel_result %}
                    <table class="custom_tb">
                        <thread>
                    	    <tr>
                    		    <th>Organism</th>
                        	    <th>KKM Comparison Score</th>
                     		    <th>KM Comparison Score</th>
                    		    <th>pH Similarity Score</th>
                                <th>Temperature Similarity Score</th>
                                <th>CAI Score</th>
                                <th>Score</th>
                    	    </tr>
                        </thread>

                        <!-- {% for i in sel_result %}
                        <tr>
        	    	    {% for j in i %}
                       	<td>{{ j }}</td>
                	    {% endfor %}
                	    </tr>
                        {% endfor %} -->

                        <tr>
                            {% for i in sel_result.0 %}
                                <td>{{ i }}</td>
                            {% endfor %}
                        </tr>
                    </table>
                    {% endwith %}

                    <br><br>

                    <!-- {{ path.3.2 }}<br><br> -->
                    {% with path.3.2 as seq %}
                    <table class="custom_tb">
                        <thread>
                        	<tr>
                                <th>Select</th>
                        		<th>Organism</th>
                        		<th>Gene id</th>
                                <th>Sequence</th>
                                <th>CAI</th>
                                <th>Codon optimisim</th>
                        	</tr>
                        </thread>

                        {% for i in seq %}
                	    <tr>
                                <td><input type="radio" name="{{ path.3.0 }}" value="{{ path.0 }}|{{ path.1 }}|{{path.2}}|{{ i.0 }}"  checked="checked" ></td> <!--{{ path.3.0 }} 酶的编号  {{ path.1 }} -> {{path.2}} 反应物名字 {{ path.0 }} 反应编号 -->
                            <td>{{ i.0 }}</td> <!--菌种名字-->
                            <td>{{ i.1 }}</td>
                                 <!-- <td style="overflow: hidden;">{{ i.2 }}</td> -->
                            <td><div style="text-align: center; width: 37vw;padding: 0; overflow: hidden; text-overflow:ellipsis; color:red"> {{ i.2 }}</div> </td>
                                    <!-- <th style="padding: 0"><b style="text-align: center; width: 30vw;padding: 0; overflow:hidden; color:red"> {{ i.2 }}</b> </th> -->
                	    	        <!-- {% for j in i %} -->
                		                   <!-- <th>{{ j }}</th> -->
                                       <!-- {% endfor %} -->
                            <td>CAI</td>
                            <td>Codon</td>
                        </tr>
                        {% endfor %}
                        <!-- <tr>
                            {% for i in seq.0 %}
                            <td>{{ i }}</td>
                            {% endfor %}
                        </tr> -->
                    </table>
                    {% endwith %}
                </div>
                
                <br><br><br><br>
                {% endwith %}
            {% endfor %}

            <br>
            <!-- {{ enzyme_data }} -->
    
            <div style="width: 10vw;">
                <input style="visibility: hidden" type="text" name="enzy" value="{{ enzymes|join:',' }}">
                <input class="report_button" type="submit" value="Give me a report">
            </div>
        </form>  
        <br><br><br><br><br><br><br><br><br>
    </div>
	
</body>
</html>


_______________________________pathway_information__________________________________________


{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>pathway result</title>
    <link href="/media/css/pages.css" rel="stylesheet" type="text/css">
    <link href="/media/css/alink.css" rel="stylesheet" type="text/css">

    <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
    <script src="/media/js/d3.v5.min.js"></script>
    <!-- <script src="http://code.jquery.com/jquery-latest.js"></script> -->
    <script src="/media/js/jquery.js"></script>

    <!-- <script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.js"></script> -->
    <!-- <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"> -->
    <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->
    <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
    <!-- <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> -->

    <style>
        .path-result-page-back2{
            /* background-image: url("../img/back1.jpg"); */
            background-position: center;
            background-attachment:fixed;
            background-size: cover;
            color: black;
            margin:0;
            padding:0;
        }

        .path-result-text-back{
            background-color: rgba(0, 0, 0, 0.7);
            height: 100%; 
            width:100%;
            z-index:-1;
            position:fixed;
        }

        .path-result-text{
            position: absolute;
            top: 30%;
            left: 45%;
            width: 60%;
            margin: -15% 0 0 -25%;
            vertical-align: middle;
            text-align:center;
        }

        /* .table_class2{
            text-align: center;
            color:black;
            border-collapse:separate;
            border-collapse:collapse;
            width: 100%;
            font-size: 1px;
            box-shadow: 1px 1px 5px #888888;
            border-radius: 1px red;
        }
        .table_class2 td, .table_class2 th{
	        font-size:15px;
	        border:1px solid #888888;
	        padding:3px 7px 2px 7px;
        } */
        .home_img{
            /* style="position: fixed; margin: 80vh 0vw 0vh 92vw;  width: 5vw"  */
            position: fixed; 
            margin: 80vh 0vw 0vh 92vw; 
            width: 6vw;
            z-index: 10000;
            transition: width 200ms, margin 200ms;
        }
        .home_img:hover{
            width: 7vw;
            margin: 79.5vh 0vw 0vh 91.5vw; 
            transition: width 200ms, margin 200ms;
        }
        table{
            /*border-collapse: collapse;*/
            border-spacing:0;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 14px;
            color: #444;
        }
        .custom_tb tr:hover{
            background-color: #fbf8e9;
            transition: all 0.1s ease-in-out;
        }
        .custom_tb th,.custom_tb td{
            border-left: 1px solid #ccc;
            border-top: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        .custom_tb th{
            background-color: #dce9f9;
            border-top:none;
        }
        .custom_tb td:first-child,.custom_tb th:first-child{
            border-left: none;
        }
        .custom_tb th:first-child{
            border-radius: 6px 0 0 0;
        }
        .custom_tb th:last-child{
            border-radius: 0 6px 0 0;
        }
        .custom_tb tr:last-child td:first-child{
            border-radius: 0 0 0 6px;
        }
        .custom_tb tr:last-child td:last-child{
            border-radius: 0 0 6px 0;
        }
        .custom_tb{
            width: 80vw;
            margin: 10px auto;
            border:1px solid #ccc;
            border-radius: 6px;
            box-shadow: 0 1px 1px #ccc;
        }
        .report_button{
            font-size: 20px; 
            background-color: black;
            border-radius: 15px;
            color:white;
            padding:2vh 2vw 2vh 2vw;
            outline: none;
            margin-left: 0vw;
            transition: margin 200ms, font-size 200ms; 
        }
        .report_button:hover{
            /* padding:2vh 3vw 2vh 3vw; */
            margin-left: 0vw;
            margin-top:0.5vw;
            font-size: 22px; 
            cursor:pointer;
        }
        .enzyme_selection{
            width: 20vw;
            height: 4vh;
            background-color: black;
            color: aliceblue; 
            border: 2px solid black;
            border-radius: 10px;
            text-align: center;
            padding: 10px 0px 0px 0px;
        }
        .enzyme_selection:hover{
            cursor: pointer;
        }
        .ball_style{
            background-color:lightskyblue;
            width: 6vw;
            height: 6vw;
            border-radius: 3vw;
            outline: none;
        }
        .ball_style:hover{
            cursor:pointer;
        }
		svg text,svg .node{
			cursor:pointer;
		}
		svg .selected{
			fill:red;
		}
    </style>
	<script>
		// 边距， 宽，高
		var margin = {
			top: 0, left: 0, right: 0, bottom: 0
		};
		var outWidth = 45;
		var outHeight =35;
		var width = outWidth - margin.left - margin.right;
		var height = outHeight - margin.top - margin.bottom;
		$.config = {
			link: {
				enabled: true,
				distance: 150,
				strength: -600,
				iterations: 1
			},
			dotR: 30
		}		
		var svgList = [];
		var dotColor = d3.scaleOrdinal(d3.schemeCategory10);
	</script>
    <script>
        function menue_show(){
            var menue = document.getElementById('menue')
            if (menue.style.visibility=="hidden"){
                menue.style.visibility="unset"
            }
            else{
                menue.style.visibility="hidden"
            }
        };
        function sel_seq_show(){
            var sel_seq_style = document.getElementById('sel_seq')
            if (sel_seq_style.style.visibility=="hidden"){
                sel_seq_style.style.visibility="unset"
            }
            else{
                sel_seq_style.style.visibility="hidden"
            }
        }
		
		
        $(function(){
            $("#menue_hide").on("click",function(){
                var menue = document.getElementById('menue')
                menue.style.visibility="hidden"
            })
        });
        $(document).ready(function () {
        {% for path in path_information %}
        {% with forloop.counter as k %}
           $("#{{ path.0 }}_{{ k }}").click(function () {
               $("#{{ path.0 }}_re_{{ k }}").slideToggle();
           });
			// var svg = d3.select("#svg_{{ path.0 }}_ball1");			
			// var chart = {
			// 	svg:svg,
			// 	width:$("#svg_{{ path.0 }}_ball1").width(),
			// 	height:$("#svg_{{ path.0 }}_ball1").height(),
			// 	data:{
			// 		nodes:[
			// 			{
			// 				id:"{{path.4}}"
			// 			},
			// 			{
			// 				id:"{{path.5}}"
			// 			}
			// 		],
			// 		links:[
			// 			{"source": "{{path.4}}", "target": "{{path.5}}", "value": 1}
			// 		]
			// 	}
			// }
			// chart.Glink = svg.append("g")
            //     .attr("stroke", "#999")
			// 	.attr("stroke-opacity", 0.6)
			// 	.attr("transform", "translate(" + (chart.width/2) + "," + (chart.height/2) + ")");
            // chart.Gnode = svg.append("g")
			// 	.attr("transform", "translate(" + (chart.width/2) + "," + (chart.height/2) + ")")
			// ;			
			// chart.Gtext = svg.append("g")
			// 	.attr("transform", "translate(" + (chart.width/2) + "," + (chart.height/2) + ")")
			// ;
			// chart.node_selected = function(id){
			// 	if(id === "{{path.4}}"){
                    
			// 		$('#{{ path.0 }}_{{ k }}_Name').html("{{ path.6.0 }}");
			// 		$('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.6.1 }}");
			// 		$('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.6.2 }}");
			// 		$('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.6.3 }}");
			// 		$('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.6.4 }}");
			// 		$('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.6.5 }}");
			// 		$("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.4 }}.jpg");
			// 		return;
			// 	}
			// 	if(id === "{{path.5}}"){
			// 		$('#{{ path.0 }}_{{ k }}_Name').html("{{ path.7.0 }}");
			// 		$('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.7.1 }}");
			// 		$('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.7.2 }}");
			// 		$('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.7.3 }}");
			// 		$('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.7.4 }}");
			// 		$('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.7.5 }}");
			// 		$("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.5 }}.jpg");
			// 		return;
			// 	}
			// }
			
			// chart.draw = function(){
			// 	var self = this;
			// 	var simulation = d3.forceSimulation();
			// 	var drag = simulation => {
			// 		function dragstarted(d) {
			// 			if (!d3.event.active) simulation.alphaTarget(0.3).restart();
			// 			d.fx = d.x;
			// 			d.fy = d.y;
			// 		}
			// 		function dragged(d) {
			// 			d.fx = d3.event.x;
			// 			d.fy = d3.event.y;
			// 		}
			// 		function dragended(d) {
			// 			if (!d3.event.active) simulation.alphaTarget(0);
			// 			d.fx = null;
			// 			d.fy = null;
			// 		}
			// 		return d3.drag()
			// 			.on("start", dragstarted)
			// 			.on("drag", dragged)
			// 			.on("end", dragended);
			// 	}
			// 	var data = this.data;
				
			// 	self.links = data.links.map(d => Object.create(d));
            //     self.nodes = data.nodes.map(d => Object.create(d));
            //     //var groups = data.nodes.map(function (d) { return d.group; });
            //     self.svg.append("defs").selectAll("marker")
            //         .data([2])
            //         .enter()
            //         .append("marker")
            //         .attr("id", function (d) { return "suit-{{ path.0 }}"; })
            //         .attr("viewBox", "0 -5 10 10")
            //         .attr("refX", 22)
            //         .attr("refY", 0.2)
            //         .attr("markerWidth", 24)
            //         .attr("markerHeight", 24)
            //         .attr("orient", "auto")
            //         .append("path")
            //         .attr("d", "M0,-2L10,0L0,2")
            //         .attr("fill", function (d) {
            //             return dotColor(d);
            //         });
            //     simulation = d3.forceSimulation(self.nodes)
            //         .force("link", d3.forceLink(self.links).id(d => d.id))
            //         .force("charge",
            //         d3.forceManyBody().strength($.config.link.strength))
            //         .force("center", d3.forceCenter(width / 2, height / 2))
            //         .force("x", d3.forceX())
            //         .force("y", d3.forceY())
            //         ;
            //     simulation.force("link")
            //         .distance($.config.link.distance);
            //     self.link = self.Glink
            //         .selectAll("line")
            //         .data(self.links)
            //         .join("line")
            //         .attr("class", "link")
            //         .attr("stroke-width", 1)
            //         .attr("marker-end", function (d) {
            //             return "url(#suit-{{ path.0 }})";
            //         })
            //         ;
            //     self.node = self.Gnode
            //         .selectAll("circle")
            //         .data(self.nodes)
            //         .join("circle")
            //         .attr("class", "node")
			// 		.attr("id", function(d){
			// 			return "node-" + d.id;
			// 		})
            //         .attr("r", $.config.dotR)
            //         .attr("fill", function (d) {
            //             return dotColor(d.id);
            //         })
            //         .call(drag(simulation))
            //         .on("click", function(d){
			// 			self.svg.selectAll(".node")
			// 				.classed("selected",false);
			// 			self.svg.select("#node-" + d.id)
			// 				.classed("selected",true);
			// 			self.node_selected(d.id);							
			// 		})
            //         ;
			// 	self.text = self.Gtext
            //         .selectAll("text")
            //         .data(self.nodes)
            //         .join("text")
            //         .style("color", function (d) {
            //             return "#000";
            //         })
            //         .attr("class", "id-text")
            //         .text(d => d.id)
			// 		.on("click", function(d){
			// 			self.svg.selectAll(".node")
			// 				.classed("selected",false);
			// 			self.svg.select("#node-" + d.id)
			// 				.classed("selected",true);
			// 			self.node_selected(d.id);
			// 		})
            //         ;
			// 	simulation.on("tick", () => {
            //         self.link
            //             .attr("x1", d => d.source.x)
            //             .attr("y1", d => d.source.y)
            //             .attr("x2", d => d.target.x)
            //             .attr("y2", d => d.target.y);
            //         self.node
            //             .attr("cx", function (d) {
            //                 return d.x;
            //             })
            //             .attr("cy", function (d) {
            //                 return d.y;
            //             });
			// 		self.text
            //             .attr("x", d => (d.x - (d.id.length * 11)/2))
            //             .attr("y", d => d.y + ($.config.dotR - 12) / 2)
            //             .style("opacity", 1);
            //     });
			// }	
			// svgList.push(chart);
			
           $("#{{ path.0 }}_{{ k }}_ball1").click(function(){
                var data = {'compound': "C00099" };
                var value_data = null;
                var yitouNum = 1
                function find_name(){
                $.ajax({
                    url: '/path_show/',
                    type:"POST",
                    data: data,
                    // async: false,
                    success: function(data){
                        yitouNum = data.split(',');
                    }
                    });
                    return yitouNum;
                }
                value_data = find_name();
            
                $('#{{ path.0 }}_{{ k }}_Name').html("{{ path.6.0 }}");
                $('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.6.1 }}");
                $('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.6.2 }}");
                $('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.6.3 }}");
                $('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.6.4 }}");
                $('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.6.5 }}");
                $("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.4 }}.jpg");
            });
           $("#{{ path.0 }}_{{ k }}_ball2").click(function(){
                $('#{{ path.0 }}_{{ k }}_Name').html("{{ path.7.0 }}");
                $('#{{ path.0 }}_{{ k }}_FORMULA').html("{{ path.7.1 }}");
                $('#{{ path.0 }}_{{ k }}_MOL_WEIGHT').html("{{ path.7.2 }}");
                $('#{{ path.0 }}_{{ k }}_EXACT_MASS').html("{{ path.7.3 }}");
                $('#{{ path.0 }}_{{ k }}_DBLINKS').html("{{ path.7.4 }}");
                $('#{{ path.0 }}_{{ k }}_REMARK').html("{{ path.7.5 }}");
                $("#{{ path.0 }}_{{ k }}_IMG").attr('src',"/../media/img/compound_img/{{ path.5 }}.jpg");
            
            });
            {% endwith %}
        {% endfor %}
       });
	   
	   $(function(){
            for(var i in svgList){
				svgList[i].draw();
			}
        });
    </script>
	
	
</head>

<body class="path-result-page-back2">
    <!-- <div class="path-result-text-back">
    black background
    </div> -->
    <div style="background-color: rgba(0, 0, 0, 1); height: 7vh;position: relative" >
        <img id="menue_btn" onclick="menue_show()" src="/../media/img/menue.png" alt="123" title="menue" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 87vw">
        <div id="menue" style=" visibility: hidden;;position: absolute; margin:8vh 0vw 0vh 83vw;background-color: whitesmoke;border:1px solid white;border-radius: 5px;padding: 1vh 1vw 2vh 1vw;color: black ">
            <ul>
                <li><a href="/pathlab/">Home</a></li>
                <li><a href="/pathway/">path_search</a></li>
                <li><a href="/enzyme/">enzyme_selection</a></li>
                <li><a href="/parts/">parts_design</a></li>
            </ul>
        </div>
        {% if user.is_active %}
            <img src="../media/img/user.png" alt="123" title="already log in" style="width: 1.6%;position: absolute; margin: 2.3vh 0vw 0vh 91vw" >
        {% else %}            
            <a href="/login/"><img src="/../media/img/log_in.png" onclick="openme()" alt="123" title="log in" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 91vw"></a> 
        {% endif %}    
        <img src="/../media/img/pathlab2.png"  alt="123" title="Go Back TO Tongji_iGEM" style="width: 8%; position: absolute;margin:1.5vh 0vw 0vh 3vw" >
        <a href="/logout/"><img src="/../media/img/log_out.png" alt="123" title="log out" style="width: 1.5%; position: absolute;margin:2.5vh 0vw 0vh 95vw" > </a> 
    </div>

    <div class="home_img" >
        <a href="/pathlab/"><img src="/../media/img/menu.png" alt="logo" width="100%"></a>
    </div>

    <div id="menue_hide" style="text-align:left; width: 80vw; margin-left: 10vw;overflow: hidden;"> 
        <br>
        <br>
        <div style="text-align: center; border: 2px solid black;border-radius: 10px; background-color: black;color: white; padding: 10px; font-size: 1vw">
            {{ path_information.0.1 }}
            {% for path in path_information %}
            <b></b>
                -> {{ path.2 }}
            {% endfor %}
        </div>
<!--         {{ compounds_infor }} -->
        
        <!-- <h3>Selection your enzyme that you need</h3> 
        <div id="sel_box_report" style="width: 30vw; height: 30vh; border:2px solid cornflowerblue;border-radius: 20px ">
            
        </div> -->
        <br>
        <h1>Pathway Details</h1>
        <form action="/Report/" method="POST">
            <br>
            {% for path in path_information %}
                {% with forloop.counter as k %}
                <hr style="height:2px;border:none;border-top:5px dotted lightskyblue;">
                <h2> 
                    Reaction {{ k }} : <a href="https://www.genome.jp/dbget-bin/www_bget?rn:{{ path.0 }}"> {{ path.0 }}<br></a>
                </h2> 

                <div id="infor_box" style="border-left:3px solid gray; margin-left: 1vw; padding: 0px 0px 0px 10px ">
                    <b>Compounds ID:</b>  <a href="https://www.genome.jp/dbget-bin/www_bget?cpd:{{ path.4 }}">{{ path.4 }}</a> ->  <a href="https://www.genome.jp/dbget-bin/www_bget?cpd:{{ path.5 }}">{{ path.5 }}</a>
                    <br>
                    <b>Compounds name:</b>  {{ path.1 }} -> {{ path.2 }}
                    <br>
                    <b>Enzyme: </b>  <a href="https://www.brenda-enzymes.org/enzyme.php?ecno={{ path.3.0 }}"> {{ path.3.0 }}</a>
                </div>
                <br>

                <div style="margin-left: 5vw; background-color: bisque; width:45vw;height: 35vh;border: 2px solid bisque;border-radius: 10px;text-align: center ">
                    <!-- {{ path.1 }} -> {{path.2}}<br>
                    <div id="{{ path.0 }}_{{ path.1 }}_ball1" > ball</div>-> 
                    <div id="{{ path.0 }}_{{ path.2 }}_ball2" > ball</div> -->
                    <!-- <b id="{{ path.0 }}_{{ path.1 }}_{{ k }}"> ball </b>  -> <b id="{{ path.0 }}_{{ path.2 }}_{{ k }}">ball</b>  -->
                    <!-- <b id="{{ path.0 }}_{{ k }}_ball1"> {{ path.1 }} </b>  -> <b id="{{ path.0 }}_{{ k }}_ball2">{{ path.2 }}</b>  -->
                    <!-- <b id="{{ path.0 }}_{{ k }}_ball1" style="background-color: antiquewhite;width: 6vw;border: #3489f3 "> ball1 </b>  -> <b id="{{ path.0 }}_{{ k }}_ball2"> ball2 </b>  -->
					<!-- <svg id="svg_{{ path.0 }}_ball1" style="width:45vw;height: 35vh;"></svg> -->
                    <button type="button" id="{{ path.0 }}_{{ k }}_ball1" class="ball_style"> {{ path.4 }} </button>  -> 
					<button type="button" id="{{ path.0 }}_{{ k }}_ball2" class="ball_style"> {{ path.5 }} </button> 

                </div>

                <br>
                <div style="margin-left: 55vw; background-color: bisque; width:20vw;height: 35vh;border: 2px solid bisque;border-radius: 10px;position: absolute; margin-top: -38.5vh; text-align: right">
                    
                    <div style="margin-left: 1vw; margin-top: 1vh; margin-right: 1vw">
                        Name:      <textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_Name">{{ path.6.0 }}</textarea><br>
                        FORMULA:   <textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_FORMULA">{{ path.6.1 }}</textarea><br>
                        MOL_WEIGHT:<textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_MOL_WEIGHT">{{ path.6.2 }}</textarea><br>
                        EXACT_MASS:<textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_EXACT_MASS">{{ path.6.3 }}</textarea><br>
                        DBLINKS:   <textarea readonly="readonly" style="height: 5vh" id="{{ path.0 }}_{{ k }}_DBLINKS">{{ path.6.4 }}</textarea><br>
                        REMARK:    <textarea readonly="readonly" style="height: 2vh" id="{{ path.0 }}_{{ k }}_REMARK">{{ path.6.5 }}</textarea><br>
                        <img style="width:8vw" id="{{ path.0 }}_{{ k }}_IMG" src="/../media/img/compound_img/{{ path.4 }}.jpg" alt="123"> 
                    </div>
                    <br><br><br>
                     
                </div>

               
                    <!-- {{ path.3.1 }}<br><br> -->
                <!-- <div style="width: 10vw;background-color: black;color: aliceblue; border: 2px solid black;border-radius: 10px;text-align: center;" onclick="sel_seq_show()">Selection result</div>  -->

                <div id="{{ path.0 }}_{{ k }}" class="enzyme_selection">Enzyme Selection result</div> 
                <br>
                
                <div id="{{ path.0 }}_re_{{ k }}" style="display: none">
                    {% with path.3.1 as sel_result %}
                    <table class="custom_tb">
                        <thread>
                    	    <tr>
                    		    <th>Organism</th>
                        	    <th>KKM Comparison Score</th>
                     		    <th>KM Comparison Score</th>
                    		    <th>pH Similarity Score</th>
                                <th>Temperature Similarity Score</th>
                                <th>CAI Score</th>
                                <th>Score</th>
                    	    </tr>
                        </thread>

                        {% for i in sel_result %}
                        <tr>
        	    	    {% for j in i %}
                       	<td>{{ j }}</td>
                	    {% endfor %}
                	    </tr>
                        {% endfor %}

                        <!-- <tr>
                            {% for i in sel_result.0 %}
                                <td>{{ i }}</td>
                            {% endfor %}
                        </tr> -->
                    </table>
                    {% endwith %}

                    <br><br>

                    <!-- {{ path.3.2 }}<br><br> -->
                    {% with path.3.2 as seq %}
                    <table class="custom_tb">
                        <thread>
                        	<tr>
                                <th>Select</th>
                        		<th>Organism</th>
                        		<th>Gene id</th>
                                <th>Sequence</th>
                                <th>CAI</th>
                                <th>Codon optimisim</th>
                        	</tr>
                        </thread>

                        {% for i in seq %}
                	    <tr>
                                <td><input type="radio" name="{{ path.3.0 }}" value="{{ path.0 }}|{{ path.1 }}|{{path.2}}|{{ i.0 }}"  checked="checked" ></td> <!--{{ path.3.0 }} 酶的编号  {{ path.1 }} -> {{path.2}} 反应物名字 {{ path.0 }} 反应编号 -->
                            <td>{{ i.0 }}</td> <!--菌种名字-->
                            <td>{{ i.1 }}</td>
                                 <!-- <td style="overflow: hidden;">{{ i.2 }}</td> -->
                            <td><div style="text-align: center; width: 37vw;padding: 0; overflow: hidden; text-overflow:ellipsis; color:red"> {{ i.2 }}</div> </td>
                                    <!-- <th style="padding: 0"><b style="text-align: center; width: 30vw;padding: 0; overflow:hidden; color:red"> {{ i.2 }}</b> </th> -->
                	    	        <!-- {% for j in i %} -->
                		                   <!-- <th>{{ j }}</th> -->
                                       <!-- {% endfor %} -->
                            <td>CAI</td>
                            <td>Codon</td>
                        </tr>
                        {% endfor %}
                        <!-- <tr>
                            {% for i in seq.0 %}
                            <td>{{ i }}</td>
                            {% endfor %}
                        </tr> -->
                    </table>
                    {% endwith %}
                </div>
                
                <br><br><br><br>
                {% endwith %}
            {% endfor %}

            <br>
            <!-- {{ enzyme_data }} -->
    
            <div style="width: 10vw;">
                <input style="visibility: hidden" type="text" name="enzy" value="{{ enzymes|join:',' }}">
                <input class="report_button" type="submit" value="Give me a report">
            </div>
        </form>  
        <br><br><br><br><br><br><br><br><br>
    </div>
	
</body>
</html>








    // var e1 = {id:"{{path.4}}"};
                // var e2 = {id:"value_data"};
                // var f = {"source": "{{path.4}}", "target": "value_data", "value": 2}
                // chart.data.nodes.push(e1);
                // chart.data.nodes.push(e2);
                // chart.data.links.push(f);
                // chart.data = {
                //     nodes:[
                //         {
                //             id:'123',
                //         },
                //         {
                //             id:'234'
                //         },
                //         {
                //             id:'345'
                //         }
                //     ],
                //     links:[
                //         {"source": "123", "target": "234", "value": 2},
                //         {"source": "123", "target": "345", "value": 2}
                //     ]
                // }

                // svgList1.push(chart);

                // for(var i in svgList1){
                //     svgList1[i].draw();
                // }     
        
        
        